# Система координат СК-42

## Общие сведения

SK24mapper работает в системе координат **СК-42** (Система координат 1942 года) с проекцией **Гаусса-Крюгера** — стандартной топографической системе, принятой в вооружённых силах.

### Особенность обозначения осей

> **Важно:** В СК-42 оси обозначены **наоборот** по сравнению с математической конвенцией:
> - **X** — направлен на **север** (northing), значения вида `5xxxxxx`
> - **Y** — направлен на **восток** (easting), значения вида `7xxxxxx` (с префиксом зоны)

## Проекция Гаусса-Крюгера

Проекция Гаусса-Крюгера — поперечная цилиндрическая проекция Меркатора, применяемая к эллипсоиду Красовского. Территория делится на 6-градусные зоны.

### Формулы прямого преобразования

Из геодезических координат $(\varphi, \lambda)$ на эллипсоиде Красовского в плоские прямоугольные $(X, Y)$:

$$X = 6367558.4968 \cdot B - \sin(2B) \cdot \left(16002.89 + 66.9607 \sin^2 B + 0.3515 \sin^4 B\right)$$

где $B$ — приведённая широта.

Координата Y вычисляется по формуле:

$$Y = (5 + 10 \cdot l) \cdot \cos B \cdot \left( l + 0.00000556 l^3 \cos^2 B + \ldots \right) \cdot 10^5 + 500000$$

где $l = \lambda - \lambda_0$ — разность долгот от осевого меридиана зоны (в радианах), $\lambda_0 = 6n - 3$ (в градусах), $n$ — номер зоны.

### Номер зоны

Номер зоны определяется по долготе:

$$n = \left\lfloor \frac{\lambda}{6} \right\rfloor + 1$$

Осевой меридиан зоны:

$$\lambda_0 = 6n - 3$$

Номер зоны записывается как первая цифра координаты Y (восток). Например, $Y = 7\,456\,789$ означает зону 7 с восточным значением 456 789 м.

## Эллипсоид Красовского

Параметры эллипсоида Красовского 1940 года:

| Параметр | Значение |
|----------|----------|
| Большая полуось $a$ | 6 378 245 м |
| Малая полуось $b$ | 6 356 863.0188 м |
| Сжатие $f$ | $1 / 298.3$ |
| Первый эксцентриситет $e$ | $0.0818133$ |
| Второй эксцентриситет $e'$ | $0.0820450$ |

## Преобразование WGS-84 → СК-42

Приложение использует **преобразование Гельмерта** (7-параметрическое) для перехода между WGS-84 и СК-42:

$$\begin{pmatrix} X \\ Y \\ Z \end{pmatrix}_{CK42} = \begin{pmatrix} \Delta X \\ \Delta Y \\ \Delta Z \end{pmatrix} + (1 + m) \cdot R \cdot \begin{pmatrix} X \\ Y \\ Z \end{pmatrix}_{WGS84}$$

где:
- $\Delta X, \Delta Y, \Delta Z$ — линейные сдвиги начала координат
- $m$ — масштабный коэффициент
- $R$ — матрица малых вращений

Стандартные параметры преобразования (Госстандарт):

| Параметр | Значение |
|----------|----------|
| $\Delta X$ | +23.92 м |
| $\Delta Y$ | −141.27 м |
| $\Delta Z$ | −80.9 м |
| $\omega_x$ | 0 |
| $\omega_y$ | −0.35 |
| $\omega_z$ | −0.82 |
| $m$ | −0.12 × 10⁻⁶ |

> Параметры Гельмерта можно настроить в **Операции → Дополнительные параметры**.

## Ввод координат

В полях координат допустимы следующие форматы:

- **Целые метры:** `5731234`
- **С разделителем тысяч:** `5 731 234`
- **С десятичной частью:** `5731234.5`

При вводе координат убедитесь в правильности:
- **X** (поле «Север») — значение порядка 5–7 миллионов
- **Y** (поле «Восток») — значение с префиксом зоны (первая цифра = номер зоны)
